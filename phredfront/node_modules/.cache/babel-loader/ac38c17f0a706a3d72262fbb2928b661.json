{"ast":null,"code":"import _defineProperty from\"/Users/karim/phredenv/phredfront/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/karim/phredenv/phredfront/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/karim/phredenv/phredfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect,useRef}from\"react\";import{useParams}from\"react-router-dom\";import{baseURL,headers}from\"./../services/obj.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UpdateObj=function UpdateObj(){var initialObjState={id:null,name:\"\",datum:null,pH:0.00,SPO2:0.00,temperature:0.00,SPO2color:\"\",turbidity:\"\"};var _useParams=useParams(),id=_useParams.id;var _useState=useState(initialObjState),_useState2=_slicedToArray(_useState,2),currentObj=_useState2[0],setCurrentObj=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmitted=_useState4[1];var countRef=useRef(0);useEffect(function(){retrieveObj();},[countRef]);var handleObjChange=function handleObjChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setCurrentObj(_objectSpread(_objectSpread({},currentObj),{},_defineProperty({},name,value)));};var retrieveObj=function retrieveObj(){axios.get(\"\".concat(baseURL,\"/obj/\").concat(id,\"/\"),{headers:{headers:headers}}).then(function(response){setCurrentObj({id:response.data.id,name:response.data.name,datum:response.data.datum,pH:response.data.pH,SPO2:response.data.SPO2,temperature:response.data.temperature,SPO2color:response.data.SPO2color,turbidity:response.data.turbidity});console.log(currentObj);}).catch(function(e){console.error(e);});};var updateObj=function updateObj(){var data={name:currentObj.name,datum:currentObj.datum,pH:currentObj.pH,SPO2:currentObj.SPO2,temperature:currentObj.temperature,SPO2color:currentObj.SPO2color,turbidity:currentObj.turbidity};axios.put(\"\".concat(baseURL,\"/obj/\").concat(id,\"/\"),data,{headers:{headers:headers}}).then(function(response){setCurrentObj({id:response.data.id,name:response.data.name,datum:response.data.datum,pH:response.data.pH,SPO2:response.data.SPO2,temperature:response.data.temperature,SPO2color:response.data.SPO2color,turbidity:response.data.turbidity});setSubmitted(true);console.log(response.data);}).catch(function(e){console.error(e);});};var newObj=function newObj(){setCurrentObj(initialObjState);setSubmitted(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"submit-form\",children:submitted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success alert-dismissible fade show\",role:\"alert\",children:[\"Obj Updated!\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:newObj,children:\"Update\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",required:true,value:currentObj.name,onChange:handleObjChange,name:\"name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pH\",children:\"pH\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"pH\",required:true,value:currentObj.pH,onChange:handleObjChange,name:\"pH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"SPO2\",children:\"SPO2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"SPO2\",required:true,value:currentObj.SPO2,onChange:handleObjChange,name:\"SPO2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"temperature\",children:\"temperature\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"temperature\",required:true,value:currentObj.temperature,onChange:handleObjChange,name:\"temperature\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"SPO2color\",children:\"SPO2color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"SPO2color\",required:true,value:currentObj.SPO2color,onChange:handleObjChange,name:\"SPO2color\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"turbidity\",children:\"turbidity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"turbidity\",required:true,value:currentObj.turbidity,onChange:handleObjChange,name:\"turbidity\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:updateObj,className:\"btn btn-success\",children:\"Submit\"})]})});};","map":{"version":3,"sources":["/Users/karim/phredenv/phredfront/src/components/UpdateObj.component.js"],"names":["axios","React","useState","useEffect","useRef","useParams","baseURL","headers","UpdateObj","initialObjState","id","name","datum","pH","SPO2","temperature","SPO2color","turbidity","currentObj","setCurrentObj","submitted","setSubmitted","countRef","retrieveObj","handleObjChange","e","target","value","get","then","response","data","console","log","catch","error","updateObj","put","newObj"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n    import React, { useState, useEffect, useRef } from \"react\";\n    import { useParams } from \"react-router-dom\";\n    import { baseURL, headers } from \"./../services/obj.service\";\n    export const UpdateObj = () => {\n      const initialObjState = {\n        id: null,\n        name: \"\",\n        datum: null,\n        pH: 0.00,\n        SPO2: 0.00,\n        temperature: 0.00,\n        SPO2color: \"\",\n        turbidity: \"\"\n      };\n      let { id } = useParams();\n      const [currentObj, setCurrentObj] = useState(initialObjState);\n      const [submitted, setSubmitted] = useState(false);\n      const countRef = useRef(0);\n      useEffect(() => {\n        retrieveObj();\n      }, [countRef]);\n      const handleObjChange = (e) => {\n        const { name, value } = e.target;\n        setCurrentObj({ ...currentObj, [name]: value });\n      };\n      const retrieveObj = () => {\n        axios\n          .get(`${baseURL}/obj/${id}/`, {\n            headers: {\n              headers,\n            },\n          })\n          .then((response) => {\n            setCurrentObj({\n                id: response.data.id,\n                name: response.data.name,\n                datum: response.data.datum,\n                pH: response.data.pH,\n                SPO2: response.data.SPO2,\n                temperature: response.data.temperature,\n                SPO2color: response.data.SPO2color,\n                turbidity: response.data.turbidity\n            });\n            console.log(currentObj);\n          })\n          .catch((e) => {\n            console.error(e);\n          });\n      };\n      const updateObj = () => {\n        let data = {\n            name: currentObj.name,\n            datum: currentObj.datum,\n            pH: currentObj.pH,\n            SPO2: currentObj.SPO2,\n            temperature: currentObj.temperature,\n            SPO2color: currentObj.SPO2color,\n            turbidity: currentObj.turbidity\n        };\n        axios\n          .put(`${baseURL}/obj/${id}/`, data, {\n            headers: {\n              headers,\n            },\n          })\n          .then((response) => {\n            setCurrentObj({\n                id: response.data.id,\n                name: response.data.name,\n                datum: response.data.datum,\n                pH: response.data.pH,\n                SPO2: response.data.SPO2,\n                temperature: response.data.temperature,\n                SPO2color: response.data.SPO2color,\n                turbidity: response.data.turbidity\n            });\n            setSubmitted(true);\n            console.log(response.data);\n          })\n          .catch((e) => {\n            console.error(e);\n          });\n      };\n      const newObj = () => {\n        setCurrentObj(initialObjState);\n        setSubmitted(false);\n      };\n      return (\n        <div className=\"submit-form\">\n        {submitted ? (\n          <div>\n            <div\n              className=\"alert alert-success alert-dismissible fade show\"\n              role=\"alert\"\n            >\n              Obj Updated!\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"alert\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <button className=\"btn btn-success\" onClick={newObj}>\n              Update\n            </button>\n          </div>\n        ) : (\n            <div>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"name\"\n                required\n                value={currentObj.name}\n                onChange={handleObjChange}\n                name=\"name\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"pH\">pH</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"pH\"\n                required\n                value={currentObj.pH}\n                onChange={handleObjChange}\n                name=\"pH\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"SPO2\">SPO2</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"SPO2\"\n                required\n                value={currentObj.SPO2}\n                onChange={handleObjChange}\n                name=\"SPO2\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"temperature\">temperature</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"temperature\"\n                required\n                value={currentObj.temperature}\n                onChange={handleObjChange}\n                name=\"temperature\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"SPO2color\">SPO2color</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"SPO2color\"\n                required\n                value={currentObj.SPO2color}\n                onChange={handleObjChange}\n                name=\"SPO2color\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"turbidity\">turbidity</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"turbidity\"\n                required\n                value={currentObj.turbidity}\n                onChange={handleObjChange}\n                name=\"turbidity\"\n              />\n            </div>\n            <button onClick={updateObj} className=\"btn btn-success\">\n              Submit\n            </button>\n          </div>\n        )}\n      </div>\n      );\n    };"]},"metadata":{},"sourceType":"module"}