{"ast":null,"code":"import _slicedToArray from\"/Users/karim/phredenv/phredfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect,useRef}from\"react\";import{baseURL,headers}from\"../services/obj.service\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ObjList=function ObjList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),objs=_useState2[0],setObjs=_useState2[1];var history=useHistory();var countRef=useRef(0);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleted=_useState4[0],setDeleted=_useState4[1];useEffect(function(){retrieveAllObjs();},[countRef]);var retrieveAllObjs=function retrieveAllObjs(){axios.get(\"\".concat(baseURL,\"/obj/\"),{headers:{headers:headers}}).then(function(response){setObjs(response.data);}).catch(function(e){console.error(e);});};var deleteObj=function deleteObj(id){axios.delete(\"\".concat(baseURL,\"/obj/\").concat(id,\"/\"),{headers:{headers:headers}}).then(function(response){setDeleted(true);retrieveAllObjs();}).catch(function(e){console.error(e);});};var handleUpdateClick=function handleUpdateClick(id){history.push(\"/obj/\".concat(id,\"/update/\"));};return/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[deleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger alert-dismissible fade show\",role:\"alert\",children:[\"Obj deleted!\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),objs&&objs.map(function(obj,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card my-3 w-25 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title font-weight-bold\",children:obj.name}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-subtitle mb-2\",children:obj.pH}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-text\",children:obj.SPO2}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-text\",children:obj.temperature}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-text\",children:obj.SPO2color}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-text\",children:obj.turbidity})]}),/*#__PURE__*/_jsx(\"div\",{classNameName:\"card-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group justify-content-around w-75 mb-1 \",\"data-toggle\":\"buttons\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return handleUpdateClick(obj.id);},children:\"Update\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteObj(obj.id);},children:\"Delete\"})})]})})]});})]})});};","map":{"version":3,"sources":["/Users/karim/phredenv/phredfront/src/components/ObjList.component.js"],"names":["axios","React","useState","useEffect","useRef","baseURL","headers","useHistory","ObjList","objs","setObjs","history","countRef","deleted","setDeleted","retrieveAllObjs","get","then","response","data","catch","e","console","error","deleteObj","id","delete","handleUpdateClick","push","map","obj","index","name","pH","SPO2","temperature","SPO2color","turbidity"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n    import React, { useState, useEffect, useRef } from \"react\";\n    import { baseURL, headers } from \"../services/obj.service\";\n    import { useHistory } from \"react-router-dom\";\n    export const ObjList = () => {\n      const [objs, setObjs] = useState([]);\n      const history = useHistory();\n      const countRef = useRef(0);\n      const [deleted, setDeleted] = useState(false);\n      useEffect(() => {\n        retrieveAllObjs();\n      }, [countRef]);\n      const retrieveAllObjs = () => {\n        axios\n          .get(`${baseURL}/obj/`, {\n            headers: {\n              headers,\n            },\n          })\n          .then((response) => {\n            setObjs(response.data);\n          })\n          .catch((e) => {\n            console.error(e);\n          });\n      };\n      const deleteObj = (id) => {\n        axios\n          .delete(`${baseURL}/obj/${id}/`, {\n            headers: {\n              headers,\n            },\n          })\n          .then((response) => {\n            setDeleted(true);\n            retrieveAllObjs();\n          })\n          .catch((e) => {\n            console.error(e);\n          });\n      };\n      const handleUpdateClick = (id) => {\n        history.push(`/obj/${id}/update/`);\n      };\n    return (\n        <div className=\"row justify-content-center\">\n          <div className=\"col\">\n            {deleted && (\n              <div\n                className=\"alert alert-danger alert-dismissible fade show\"\n                role=\"alert\"\n              >\n                Obj deleted!\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"alert\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n            )}\n            {objs &&\n              objs.map((obj, index) => (\n                <div className=\"card my-3 w-25 mx-auto\">\n                  <div className=\"card-body\">\n                    <h2 className=\"card-title font-weight-bold\">{obj.name}</h2>\n                    <h4 className=\"card-subtitle mb-2\">{obj.pH}</h4>\n                    <h4 className=\"card-text\">{obj.SPO2}</h4>\n                    <h4 className=\"card-text\">{obj.temperature}</h4>\n                    <h4 className=\"card-text\">{obj.SPO2color}</h4>\n                    <h4 className=\"card-text\">{obj.turbidity}</h4>\n                  </div>\n                  <div classNameName=\"card-footer\">\n                    <div\n                      className=\"btn-group justify-content-around w-75 mb-1 \"\n                      data-toggle=\"buttons\"\n                    >\n                      <span>\n                        <button\n                          className=\"btn btn-info\"\n                          onClick={() => handleUpdateClick(obj.id)}\n                        >\n                          Update\n                        </button>\n                      </span>\n                      <span>\n                        <button\n                          className=\"btn btn-danger\"\n                          onClick={() => deleteObj(obj.id)}\n                        >\n                          Delete\n                        </button>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </div>\n      );\n    };"]},"metadata":{},"sourceType":"module"}